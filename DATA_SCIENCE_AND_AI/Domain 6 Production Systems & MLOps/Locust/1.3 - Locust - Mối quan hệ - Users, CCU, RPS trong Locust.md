## Mối quan hệ: Users, CCU, RPS trong Locust

### Công thức cốt lõi

```
RPS = Users / (Response Time + Wait Time)
```

### Giải thích

|Thuật ngữ|Ý nghĩa|
|---|---|
|**Users (Locust)**|Số virtual users đang chạy đồng thời = CCU|
|**CCU**|Concurrent Users = chính là số Users trong Locust|
|**RPS**|Số requests server nhận được mỗi giây|

### Ví dụ thực tế

```
Users = 100
Response Time = 0.1s (100ms)
Wait Time = 2.0s (trung bình của 1-3s)

RPS = 100 / (0.1 + 2.0) = 100 / 2.1 ≈ 48 RPS
```

### Tại sao 100 users không phải 100 RPS?

Vì mỗi user phải **đợi** giữa các request:

```
User 1: [Request 0.1s] → [Wait 2s] → [Request 0.1s] → [Wait 2s] → ...
User 2: [Request 0.1s] → [Wait 2s] → [Request 0.1s] → [Wait 2s] → ...
...
```

Mỗi user chỉ gửi được **1 request / 2.1 giây**, không phải 1 request/giây.

### Muốn tăng RPS?

|Cách|Hệ quả|
|---|---|
|Tăng Users|Tăng tải server|
|Giảm Wait Time|Tăng tần suất request/user|
|Giảm Response Time|Server xử lý nhanh hơn|
```
SELECT  
    con.conname AS constraint_name,  
    CASE con.contype  
        WHEN 'p' THEN 'PRIMARY KEY'  
        WHEN 'f' THEN 'FOREIGN KEY'  
        WHEN 'u' THEN 'UNIQUE'  
        WHEN 'c' THEN 'CHECK'  
    END AS constraint_type,  
    pg_get_constraintdef(con.oid) AS definition  
FROM pg_constraint con  
JOIN pg_attribute col  
    ON col.attrelid = con.conrelid  
    AND col.attnum = ANY(con.conkey)  
WHERE con.conrelid = 'agenda_agent_prompting'::regclass  
    AND col.attname = 'agent_category';
```


Output 
```
CHECK (((agent_category)::text = ANY ((ARRAY['TALK'::character varying, 'GAME'::character varying, 'GREETING'::character varying])::text[])))
```

---
Đây là CHECK constraint. Để xóa, bạn cần lấy tên constraint trước:

**1. Lấy tên constraint:**

```sql
SELECT conname 
FROM pg_constraint 
WHERE conrelid = 'agenda_agent_prompting'::regclass 
    AND contype = 'c';
```

agenda_agent_prompting_agent_type_check

**2. Xóa constraint:**

```sql
-- Thay 'ten_constraint' bằng kết quả từ query trên
ALTER TABLE agenda_agent_prompting DROP CONSTRAINT ten_constraint;
```

**Hoặc làm 1 phát bằng cách generate lệnh DROP:**

```sql
SELECT 'ALTER TABLE agenda_agent_prompting DROP CONSTRAINT ' || conname || ';' AS drop_statement
FROM pg_constraint 
WHERE conrelid = 'agenda_agent_prompting'::regclass 
    AND contype = 'c'
    AND pg_get_constraintdef(oid) LIKE '%agent_category%';
```

Query này sẽ trả về câu lệnh DROP hoàn chỉnh, bạn chỉ cần copy và chạy thôi!

(.venv) PS D:\GIT\robot-lesson-workflow> git commit -m "[STEP PRODUCTION - CHECK BUG: CÙNG 1 API trên PRODUCTION. Khi API server dev 30 call tới thì lúc 300ms - 2s-3s, còn localhost chỉ khoảng 200-300ms => Do mạng]"

---
Dựa đúng vào API `initConversation` bạn đang gọi:

```bash
curl --location 'http://103.253.20.30:30000/robot-ai-workflow/api/v1/bot/initConversation' \
  --header 'Content-Type: application/json' \
  --header 'accept: application/json' \
  --data '{
    "bot_id": 646,
    "conversation_id": "b87be6b6-395d-4b13-9748-05d119e03036_40647ede-651d-4c63-965d-75bf398d9af7",
    "user_id": "019ac33e-4ee0-7d55-8e92-2790cad8a8c3",
    "input_slots": {}
  }'
```

thì hai API external đang được gọi bên trong là:

- `URL_PROFILE=https://robot-api.hacknao.edu.vn/robot/api/v1/llm`
- `TOKEN_PROFILE=b1812cb7-2513-408b-bb22-d9f91b099fbd`

### 1. API `user_profile`

```bash
curl --location -G 'https://robot-api.hacknao.edu.vn/robot/api/v1/llm/user_profile' \
  --data-urlencode 'conversation_id=b87be6b6-395d-4b13-9748-05d119e03036_40647ede-651d-4c63-965d-75bf398d9af7' \
  --data-urlencode 'token=b1812cb7-2513-408b-bb22-d9f91b099fbd' \
  --header 'Accept: application/json'
```

### 2. API `activity_name`

```bash
curl --location -G 'https://robot-api.hacknao.edu.vn/robot/api/v1/llm/activity_name' \
  --data-urlencode 'conversation_id=b87be6b6-395d-4b13-9748-05d119e03036_40647ede-651d-4c63-965d-75bf398d9af7' \
  --data-urlencode 'token=b1812cb7-2513-408b-bb22-d9f91b099fbd' \
  --header 'Accept: application/json'
```

Chỉ cần thay `conversation_id` (và `token` nếu đổi trong `.env`) là test được riêng từng API.

---



* Trên server 30: 2 cái API bên ngoài user_profile và activity_name lúc thì 300ms lúc thì 2-3s
* Còn trên localhost: thì siêu nhanh 200-300ms


---

Em đang đoán là do mạng - do network 
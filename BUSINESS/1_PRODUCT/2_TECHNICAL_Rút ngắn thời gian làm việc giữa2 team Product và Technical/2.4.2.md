Anh/ch·ªã h√£y ƒë√≥ng vai **CTO ki√™m Chief Architect, Product-minded v√† Consultant** 
(v·ª´a hi·ªÉu k·ªπ thu·∫≠t s√¢u, v·ª´a hi·ªÉu business v√† vertical finance).

Nhi·ªám v·ª•: Vi·∫øt m·ªôt **t√†i li·ªáu thi·∫øt k·∫ø to√†n di·ªán (~40 trang A4)** cho d·ª± √°n **finAI ‚Äì 
Finance Agent Agentic Browser**, d·ª±a tr√™n framework MECE (ph√¢n chia ƒë·∫ßy ƒë·ªß, t∆∞∆°ng h·ªó lo·∫°i tr·ª´).

---

### 1. M·ª•c ti√™u t√†i li·ªáu

T√†i li·ªáu n√†y ph·∫£i ƒë·ªß chi ti·∫øt ƒë·ªÉ:
- **1 team m·ªõi join** (ho·∫∑c 1 ng∆∞·ªùi + AI) ch·ªâ c·∫ßn ƒë·ªçc l√† hi·ªÉu 80‚Äì90% b·ª©c tranh.
- **CEO/Founder** hi·ªÉu strategy & th·ªã tr∆∞·ªùng c∆° h·ªôi.
- **PM** hi·ªÉu MVP, roadmap, user journey, success metrics c·ª• th·ªÉ.
- **Tech Lead** hi·ªÉu architecture, tech stack, API design, database schema.
- **Engineers (BE/FE/DevOps)** hi·ªÉu module, pseudocode, folder structure ƒë·ªÉ code ngay.
- **Growth/Marketing** hi·ªÉu viral loop, GTM channels, unit economics.
- **Legal/Compliance** hi·ªÉu r·ªßi ro, positioning ("research tool" vs "investment advisor"), audit trail.

---

### 2. B·ªëi c·∫£nh d·ª± √°n finAI (Ng·ªØ c·∫£nh c·ª• th·ªÉ)

**T√™n d·ª± √°n:** finAI ‚Äì Financial Intelligence Agentic Browser  
**T·∫ßm nh√¨n:** By 2035, finAI is the default research platform for 30‚Äì50% financial professionals globally ($100M+ ARR)  
**MVP:** Browser extension (Chrome/Edge) ‚Üí auto-analyze financial documents (10-K, earnings, news) ‚Üí extract metrics + flag risks ‚Üí 1-page snapshot <60s  
**ICP ch√≠nh:** Buy-side equity/credit analysts ($1‚Äì50B AUM funds) + independent RIAs  
**Pain:** Research = 5‚Äì10h/idea, manual copy-paste, risk of missing info ‚Üí WTP: $100‚Äì300/mo  
**Key USP:**
- Agentic (AI-native, not just AI-augmented)
- Finance-tuned (kh√¥ng generic, hi·ªÉu semantic t√†i ch√≠nh)
- Compliance-first (audit trail, source attribution, "research tool" positioning)
- Speed (extract metrics <60s)
- Accuracy (GPT-4 + human-in-loop validation)

**Market Context:**
- AI Browser market: $4.5B (2024) ‚Üí $77B (2034), CAGR 32.8%
- AI Agents in Finance: $490M (2024) ‚Üí $4.5B (2030), CAGR 45% (fastest growing)
- **Critical gap:** T·∫•t c·∫£ agentic browser hi·ªán t·∫°i (Comet, Atlas, Dia, Genspark) ƒë·ªÅu generic, 
  kh√¥ng hi·ªÉu finance workflows. finAI c√≥ c∆° h·ªôi "blue ocean" trong 12‚Äì18 th√°ng.

**Timeline & Resources:**
- MVP: 18 th√°ng ƒë·∫øn PMF (1K paid users, $10K MRR, <10% churn, NPS ‚â•40)
- Team: 5 ng∆∞·ªùi (1 AI lead, 1 finance expert, 2 full-stack, 1 designer)
- Budget: $500K
- Tech stack: Chrome Extension API + Python FastAPI + PostgreSQL + GPT-4 API + Vercel

---

### 3. C·∫•u tr√∫c MECE ‚Äì 8 PH·∫¶N (40 trang, format li√™n t·ª•c)

H√£y vi·∫øt ƒë·∫ßy ƒë·ªß n·ªôi dung theo c·∫•u tr√∫c d∆∞·ªõi. **Kh√¥ng copy nguy√™n vƒÉn t·ª´ c√°c file finAI**, 
h√£y d√πng ch√∫ng nh∆∞ reference r·ªìi vi·∫øt l·∫°i b·∫±ng c√°ch c·ªßa ri√™ng b·∫°n, v·ªõi **v√≠ d·ª• c·ª• th·ªÉ cho finAI**:

---

#### **PH·∫¶N I: BUSINESS & PRODUCT DESIGN (8‚Äì10 trang)**

- **I.1. Problem Statement & Market Canvas (2 trang)**
  - Problem: Financial professionals m·∫•t 30‚Äì40% th·ªùi gian cho manual research
  - Kh√°ch h√†ng: Buy-side analysts, independent advisors
  - Pain score, willingness-to-pay, market size (TAM/SAM/SOM)
  - Competitive landscape: Bloomberg Terminal ($2K/mo), ChatGPT ($20/mo), Comet (generic), AlphaSense/Tegus (chuy√™n documents nh∆∞ng ƒë·∫Øt)
  - **Gap finAI fills:** Agentic + finance-native + affordable

- **I.2. Product Vision & Strategy (2 trang)**
  - 10-year vision: finAI = "financial professional's operating system"
  - Business model: Freemium ‚Üí Subscription ($99‚Äì149/mo) ‚Üí Enterprise ($500‚Äì2K/mo team)
  - Unit economics: ARPU $130/user, COGS $40/user ‚Üí 70% gross margin, LTV:CAC 9.6:1
  - Moat strategy: Data + Compliance + Brand (3 layers)

- **I.3. Go-to-Market & Pricing (2 trang)**
  - GTM channels: Community (FinTwit) + Content (SEO) + Partnership (FinChat, Koyfin, SumZero) + Direct Sales
  - First 100 users: 30 community, 20 content, 30 partnership, 20 direct
  - Pricing: Free tier 5/month, Pro $99‚Äì149/mo, Enterprise custom
  - Revenue model: Recurring SaaS + usage-based (optional) + API marketplace (future)

- **I.4. Feature Prioritization & Roadmap (2 trang)**
  - MBP Definition: Research Agent Extension ‚Äì auto-extract metrics + risk flag + 1-page snapshot <60s
  - MVP features (5‚Äì7 only): Auto-extract metrics, Risk flagging, 1-page snapshot, Source attribution, Portfolio context, Version history
  - Roadmap 12 months:
    - Month 1‚Äì3: Foundation + customer interviews
    - Month 4‚Äì9: MVP build (core features)
    - Month 10‚Äì12: Beta polish + scale to 1K users
  - RICE+ prioritization table (metric extraction #1, risk flagging #2, snapshot #3, portfolio monitoring #4)

---

#### **PH·∫¶N II: PRODUCT DESIGN (6‚Äì8 trang)**

- **II.1. User Journey & Feature Maps (2 trang)**
  - Feature journey: Discovery ‚Üí Activation ‚Üí Core Usage ‚Üí Retention ‚Üí Growth
  - Key flows: 
    1. User opens 10-K on EDGAR ‚Üí Sidebar appears ‚Üí Click "Analyze" ‚Üí <60s ‚Üí Results show
    2. User generates 3 snapshots (aha moment) ‚Üí Activation
    3. User sets portfolio watchlist + daily alerts ‚Üí Retention driver
  - Wireframes (text or ASCII art) for: 
    - Browser extension sidebar (5 key screens)
    - Metrics display + confidence scores
    - Risk flagging UI
    - 1-page snapshot + export PDF
    - Portfolio watchlist v1.5

- **II.2. Design System & Interaction (2 trang)**
  - UI principles: **Trust > Complexity** (finance users risk-averse, need clarity)
  - Color palette: Professional (navy/blue/green for positive, red for risks)
  - Typography: Clear hierarchy for metrics/risks/sources
  - Components: Metric card, risk badge, source citation, snapshot container
  - Interaction flows: Hover ‚Üí show source quote, Click metric ‚Üí drill-down on calculation

- **II.3. User Personas & Success Metrics (2 trang)**
  - Persona 1: Sarah Chen (Buy-side analyst, 32, $3B fund, researches 5‚Äì7 stocks/week)
    - Pain: 5‚Äì10h per stock, manual copy-paste, miss important info
    - WTP: $150‚Äì300/mo if saves 10h/week
    - Activation: Generate 3 snapshots in first week
    - Retention: D7 ‚â•40%, D30 ‚â•20%, NPS ‚â•40
  - Success metrics: TTV <3min, WAU 60%+, churn <10%/mo, LTV:CAC >3:1

- **II.4. Wireframes & Mockups (M√¥ t·∫£ ASCII/text) (2 trang)**
  - Sidebar extension layout (280px width, clean sidebar on right of browser)
  - Result cards: [Metric Name] | [Value] | [YoY Change %] | [Source: Page X]
  - Risk alert: ‚ö†Ô∏è [Risk Type] | [Severity] | [Why] | [Quote from doc]
  - Snapshot preview: 1-page PDF with logo, thesis, metrics table, risks, next steps
  - State handling: Loading spinner, empty state (first analysis), error state, success

---

#### **PH·∫¶N III: SYSTEM ARCHITECTURE (8‚Äì10 trang)**

- **III.1. Architecture Diagrams & Components (3 trang)**
  - **Conceptual Architecture:**
    - Client: Chrome/Edge extension (content script + background worker)
    - API Gateway: TLS, auth, rate limit (inject X-User-Id, X-Session-Id)
    - Backend: Python FastAPI + auth service + document parser + AI service + portfolio service + compliance service
    - Database: PostgreSQL (users, documents, analyses, portfolios, audit_logs)
    - Cache: Redis (session, rate limit, analysis cache)
    - External: GPT-4 API, broker APIs (IBKR, Schwab, Fidelity ‚Äì future v2), data feeds
  - **Deployment:** FE on Vercel (extension), BE on AWS EC2/Lambda, DB on AWS RDS, Redis on ElastiCache

  - **Data Flow Diagram (DFD):**
    - Level 0: User analyzes document ‚Üí finAI processes ‚Üí User gets insights
    - Level 1 multi-step:
      1. User opens EDGAR page with 10-K
      2. Extension content script extracts text (DOM)
      3. Send to backend: raw_input + page_context (URL, title, selection_text)
      4. Backend validates + classifies (document type)
      5. Call GPT-4: "Extract revenue, EBITDA, debt, guidance, risks from this text"
      6. Parse response: extract structured data
      7. Validate against multiple sources (if available)
      8. Store in DB: analysis record with confidence score, sources
      9. Return to extension: formatted metrics + risks
      10. Render sidebar: metrics display + confidence score + source citations
      11. User clicks "Generate Snapshot" ‚Üí backend creates PDF ‚Üí download

- **III.2. API Design (2 trang)**
  - **Endpoint inventory:**
    - `POST /v1/input/ingest` ‚Äì nh·∫≠n raw_input + page_context, tr·∫£ UnifiedInputCore (t∆∞∆°ng t·ª± Stage 1 spec c·ªßa b·∫°n)
    - `POST /v1/analyses` ‚Äì start document analysis (async job)
    - `GET /v1/analyses/{id}` ‚Äì get results when ready
    - `POST /v1/snapshots` ‚Äì generate PDF snapshot
    - `GET /v1/portfolio` ‚Äì user portfolio watchlist
    - `POST /v1/portfolio/watch` ‚Äì add to watchlist

  - **Request/Response examples:**
    ```
    POST /v1/analyses
    {
      "document_text": "...(10-K extracted)",
      "document_type": "10-K",
      "ticker": "AAPL",
      "company_name": "Apple Inc"
    }
    
    Response (async, polling):
    {
      "analysis_id": "uuid-123",
      "status": "processing"
    }
    
    GET /v1/analyses/uuid-123 (when ready):
    {
      "analysis_id": "uuid-123",
      "metrics": {
        "revenue": {"value": 383285, "unit": "USD millions", "yoy": 4.3, "source": "Page 45", "confidence": 0.95},
        "ebitda": {...},
        "debt": {...}
      },
      "risks": [
        {"type": "leverage", "severity": "medium", "description": "Debt/EBITDA: 2.8x", "source": "Page 78", "confidence": 0.92}
      ],
      "source_attribution": "All metrics from AAPL 10-K filed 2025-12-08"
    }
    ```

  - **Authentication:** JWT tokens (15min), refresh tokens (7 days)
  - **Rate limiting:** 100 req/min per user
  - **Error handling:** 400 validation, 401 auth, 429 rate limit, 500 server error

- **III.3. Database Design (2 trang)**
  - **ERD:**
    - `users` (id, email, auth_provider, subscription_tier, created_at)
    - `documents` (id, user_id, document_type, ticker, file_name, content, uploaded_at)
    - `analyses` (id, user_id, document_id, metrics JSONB, risks JSONB, confidence_score, created_at)
    - `portfolios` (id, user_id, watchlist JSONB, positions JSONB, updated_at)
    - `snapshots` (id, analysis_id, pdf_content, exported_at)
    - `audit_logs` (id, user_id, action, resource, result, timestamp)

  - **Schema SQL (sample):**
    ```
    CREATE TABLE analyses (
      id UUID PRIMARY KEY,
      user_id UUID REFERENCES users(id),
      document_id UUID REFERENCES documents(id),
      metrics JSONB,  -- {revenue: {value, unit, yoy, source, confidence}, ...}
      risks JSONB,    -- [{type, severity, description, source, confidence}, ...]
      confidence_score FLOAT,
      processing_status ENUM('pending','completed','failed'),
      created_at TIMESTAMP
    );
    
    CREATE INDEX idx_user_document ON analyses(user_id, document_id);
    CREATE INDEX idx_created ON analyses(created_at DESC);
    ```

- **III.4. Architecture Patterns & Rationale (2 trang)**
  - **Design Patterns Used:**
    - MVC: Separation of concerns (extension UI, backend API, database)
    - Factory: Document parser factory (create different parsers for 10-K vs earnings vs news)
    - Strategy: AI model selection (GPT-4 vs Claude vs fine-tuned)
    - Observer: Real-time portfolio alerts
    - Singleton: Database pool, API client
    - Repository: Data access abstraction
    - Decorator: Add logging, error handling, validation to API responses
  
  - **Tech Stack Rationale:**
    - Chrome Extension: Distributed, user owns data locally, zero installation friction
    - Python FastAPI: AI-friendly (Langchain, LlamaIndex ecosystem), async native
    - PostgreSQL: ACID compliance, JSONB for flexible metrics schema, mature
    - GPT-4: Best-in-class extraction, fine-tunable, commercially available
    - Vercel: Fast deployment, serverless scaling, great DX for FE
    - Redis: Session management, rate limiting, analysis caching

---

#### **PH·∫¶N IV: DETAILED DESIGN (8‚Äì10 trang)**

- **IV.1. Component Specifications (3 trang)**

  - **Component 1: Document Parser**
    - Input: Raw HTML/text from EDGAR, earnings transcript, news article
    - Process: 
      1. Extract main content (remove nav/footer)
      2. Identify document type (10-K, 10-Q, 8-K, earnings call, news)
      3. Chunk into sections (by headers, page breaks)
    - Output: Structured document with metadata (type, ticker, date, sections)
    - Error handling: Unsupported format, corrupted PDF ‚Üí graceful degradation

  - **Component 2: AI Analysis Service**
    - Input: Parsed document, target metrics (revenue, ebitda, debt, guidance, risks)
    - Process:
      1. For each metric, prompt GPT-4: "Find [metric] in this document"
      2. Parse response: value, unit, source location, confidence
      3. Validate: Check if value is reasonable for company (e.g., no negative revenue)
      4. Cross-check: Compare metric across document sections (consistency)
    - Output: Structured metrics with confidence scores & sources
    - Hallucination control: If confidence <70%, flag as "needs manual verification"

  - **Component 3: Risk Flagging Engine**
    - Input: Extracted metrics, document text
    - Process:
      1. Rule-based: Check metrics against thresholds
         - Debt/EBITDA >3.5x ‚Üí covenant breach risk
         - Revenue decline >15% YoY ‚Üí growth risk
         - New litigation disclosure ‚Üí legal risk
      2. Text analysis: Keyword matching (material weakness, discontinued ops, covenant, etc.)
      3. Severity scoring: Map to risk level (critical/high/medium/low)
    - Output: Risk list with type, severity, source, confidence
    - Example: `{type: "leverage", severity: "high", description: "Debt/EBITDA 3.8x exceeds covenant limit 3.5x", source: "Page 78, Item 8.2", confidence: 0.98}`

  - **Component 4: Snapshot Generator**
    - Input: Analysis results (metrics, risks)
    - Process:
      1. Create PDF template: Header (company logo, ticker, date), Metrics table, Risks table, Footer (disclaimers)
      2. Render using ReportLab or Puppeteer
      3. Include source attributions (page numbers, quote snippets)
    - Output: Downloadable PDF (1 page, fit all important info)
    - Example PDF layout:
      ```
      =============== APPLE INC (AAPL) ===============
      Analysis Date: 2025-12-08 | Source: 10-K (2025-10-09)
      
      KEY METRICS
      Revenue:        $383.3B      (+4.3% YoY)     [Page 45]
      EBITDA:         $119.5B      (31.2% margin)  [Page 47]
      Net Income:     $93.7B       (+4.1% YoY)     [Page 48]
      Debt:           $108.3B      (Debt/EBITDA: 0.91x) [Page 52]
      
      RISKS FLAGGED
      ‚ö†Ô∏è HIGH: New litigation disclosed ($2B exposure)  [Page 78]
      ‚ö†Ô∏è MEDIUM: Q4 guidance 3‚Äì5% below estimates      [Page 82]
      
      Powered by finAI | Research Tool Only | Not Investment Advice
      ```

- **IV.2. Algorithm & Business Logic (3 trang)**

  - **Metric Extraction Algorithm:**
    ```
    Algorithm: ExtractMetric(document, metric_name)
    
    1. Prompt GPT-4: "Find [metric_name] in this financial document"
    2. Parse response:
       - Extract: value, unit, calculation_method, confidence
       - Identify source: exact page/section where found
    3. Validate:
       - Check if value in reasonable range (e.g., revenue > 0)
       - If unreasonable, flag as low confidence, retry with different prompt
    4. Cross-check (if document has multiple sections):
       - Compare value with same metric in other sections
       - If conflicting: pick most recent/detailed source, lower confidence
    5. Store: {metric: X, value, unit, source_page, confidence_score}
    6. Return: Metrics array
    ```

  - **Risk Flagging Algorithm:**
    ```
    Algorithm: FlagRisks(metrics, document_text)
    
    1. Rule-Based Checks:
       - IF debt/ebitda > 3.5: Risk("covenant_breach", "high")
       - IF revenue_change < -15%: Risk("growth_decline", "medium")
       - IF cfo_change: Risk("management_turnover", "low")
    
    2. Text Analysis:
       - Keyword scan: "material weakness", "discontinued ops", "going concern"
       - Sentiment: Measure negativity in Risk Factors section
       - Novelty: Compare against previous filing (if available)
    
    3. Severity Scoring:
       - Score = base_severity + (confidence_boost if corroborated by multiple signals)
    
    4. Return: Risks array sorted by severity
    ```

  - **Portfolio Monitoring Loop (future v1.5):**
    - Daily cron: Scan news for user watchlist tickers
    - Alert rule: News mention + negative sentiment ‚Üí push notification
    - Example: "Apple (AAPL) guidance cut 5% ‚Üí finAI risk score increased to HIGH"

- **IV.3. Security & Compliance (2 trang)**

  - **Authentication:**
    - OAuth2 + JWT (15min expiry, refresh token 7 days)
    - Multi-factor option: Email OTP
    - Session management: One active session per device (prevent token theft)

  - **Data Privacy:**
    - No PII in logs: Hash user IDs, omit raw_input from logs
    - Encryption: HTTPS for transport, AES-256 at rest
    - Data retention: User analyses persist 90 days, then delete (configurable)
    - Compliance: GDPR/CCPA ready (right to delete, data export)

  - **Positioning for Regulatory:**
    - **Disclaimer on every output:** "This is research tool only. Not investment advice. You make final decision."
    - **No buy/sell recommendations:** Tool can say "metric suggest undervalued" but NOT "buy this stock"
    - **Audit trail:** Every analysis logged with timestamp, user ID, document analyzed, results generated
    - **Legal opinion:** Get legal review day 1 to confirm "research tool" vs "investment advisor" distinction

- **IV.4. Performance & Scalability (2 trang)**

  - **Latency Targets:**
    - Document parsing: <2s (remove nav/footer, extract text)
    - AI analysis (metrics extraction): <30s (including GPT-4 API call)
    - Snapshot generation: <5s (PDF render)
    - Total user-perceived time: <60s from "Analyze" click to results displayed

  - **Scaling Architecture:**
    - Database: Horizontal sharding by user_id (separate DB per user cohort)
    - Cache: Redis for frequent metrics (revenue, net income cache hit rate 80%+)
    - API: Stateless FastAPI ‚Üí scale to 100+ instances
    - Rate limiting: Per-user quotas (free 5/month, pro unlimited)
    - Load testing: Simulate 10K concurrent users, 100 analyses/second target

  - **Cost Optimization:**
    - LLM cost: $20‚Äì30/user/mo (manage via caching, on-device models for simple extraction)
    - Database: $10‚Äì15/user/mo (with sharding & archival)
    - Infrastructure: $5/user/mo
    - **Total COGS: ~$40/user/mo ‚Üí 70% gross margin at $99 ARPU**

---

#### **PH·∫¶N V: IMPLEMENTATION (6‚Äì8 trang)**

- **V.1. Technology Stack & Folder Structure (2 trang)**

  - **Frontend (Extension):**
    - Framework: React 18 + TypeScript
    - Build: Vite (fast HMR)
    - Styling: Tailwind CSS
    - State: Zustand (lighter than Redux)
    - HTTP: Axios with retry logic
    - Structure:
      ```
      extension/
      ‚îú‚îÄ‚îÄ manifest.json
      ‚îú‚îÄ‚îÄ src/
      ‚îÇ   ‚îú‚îÄ‚îÄ components/ (MetricsDisplay, RisksList, SnapshotPreview)
      ‚îÇ   ‚îú‚îÄ‚îÄ hooks/ (useAnalysis, useAuth, usePortfolio)
      ‚îÇ   ‚îú‚îÄ‚îÄ pages/ (Sidebar, Options)
      ‚îÇ   ‚îú‚îÄ‚îÄ store/ (Redux slices or Zustand)
      ‚îÇ   ‚îú‚îÄ‚îÄ utils/ (api.ts, formatters.ts, validators.ts)
      ‚îÇ   ‚îú‚îÄ‚îÄ content-script.ts (page context capture)
      ‚îÇ   ‚îú‚îÄ‚îÄ background.ts (message passing)
      ‚îÇ   ‚îî‚îÄ‚îÄ popup.html
      ‚îú‚îÄ‚îÄ public/ (icons, fonts)
      ‚îî‚îÄ‚îÄ package.json
      ```

  - **Backend (API):**
    - Framework: Python FastAPI
    - Async: asyncio + aiohttp
    - DB ORM: SQLAlchemy
    - Database: PostgreSQL + psycopg2 + Alembic (migrations)
    - Cache: Redis (aioredis)
    - Auth: python-jose (JWT), passlib (password hashing)
    - LLM: openai Python library
    - Structure:
      ```
      backend/
      ‚îú‚îÄ‚îÄ app/
      ‚îÇ   ‚îú‚îÄ‚îÄ api/
      ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ routes/ (analyses.py, portfolio.py, auth.py)
      ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ schemas.py (Pydantic models)
      ‚îÇ   ‚îú‚îÄ‚îÄ core/
      ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ config.py (settings from env)
      ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ security.py (JWT, hashing)
      ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ exceptions.py (custom errors)
      ‚îÇ   ‚îú‚îÄ‚îÄ services/
      ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ document_parser.py
      ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ai_service.py (GPT-4 calls)
      ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ risk_analyzer.py
      ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ snapshot_generator.py
      ‚îÇ   ‚îú‚îÄ‚îÄ models/ (User, Document, Analysis, Portfolio)
      ‚îÇ   ‚îú‚îÄ‚îÄ db/ (database.py, session management)
      ‚îÇ   ‚îú‚îÄ‚îÄ middleware/ (auth, logging, error handling)
      ‚îÇ   ‚îî‚îÄ‚îÄ main.py (FastAPI app init)
      ‚îú‚îÄ‚îÄ migrations/ (Alembic)
      ‚îú‚îÄ‚îÄ tests/ (unit, integration, e2e)
      ‚îú‚îÄ‚îÄ requirements.txt
      ‚îú‚îÄ‚îÄ .env.example
      ‚îî‚îÄ‚îÄ Dockerfile
      ```

- **V.2. Development Sprint Plan (2 trang)**

  - **Sprint 0‚Äì1 (Week 1‚Äì2): Foundation**
    - Setup: Auth (JWT), DB schema, API scaffolding
    - Deliverable: Users can sign up/login, API routes skeleton

  - **Sprint 2‚Äì3 (Week 3‚Äì6): Core ‚Äì Document Parsing + AI Integration**
    - Deliverable: Auto-extract metrics from 10-K using GPT-4
    - Test: 85%+ accuracy on 20 real 10-Ks

  - **Sprint 4‚Äì5 (Week 7‚Äì12): Core ‚Äì Risk Flagging + Validation**
    - Deliverable: Rule-based risk detection, confidence scoring
    - Test: Validate against financial domain experts

  - **Sprint 6‚Äì7 (Week 13‚Äì18): Experience ‚Äì Snapshot UI + Export**
    - Deliverable: 1-page snapshot PDF + Extension UI polish
    - Test: UI/UX with 5‚Äì10 beta users, iterate

  - **Sprint 8‚Äì10 (Week 19‚Äì30): Beta + Iteration**
    - Launch to 50‚Äì100 design partners
    - Measure: TTV, aha moment, retention
    - Iterate based on feedback

- **V.3. Testing Strategy (2 trang)**

  - **Unit Tests:**
    - Test document parser: Extract text from 10 PDFs, verify correctness
    - Test metric extraction: GPT-4 prompt ‚Üí parse response, handle edge cases
    - Test risk scoring: Rule logic, threshold checks
    - Target: 80%+ code coverage

  - **Integration Tests:**
    - E2E flow: User uploads 10-K ‚Üí extraction ‚Üí storage ‚Üí retrieval
    - API integration: Backend calls GPT-4 API, handles rate limiting
    - Database: Save/retrieve analyses, verify ACID compliance

  - **Acceptance Tests:**
    - 50 beta users: Measure TTV <3min, aha moment (3 snapshots) >70%, D7 retention >40%
    - NPS survey: Target ‚â•40
    - Accuracy validation: Domain expert reviews 10 extractions, target >90% correct

  - **Security Tests:**
    - Penetration testing: Common injection vectors (SQL injection, XSS)
    - Authentication: Token expiry, refresh token rotation
    - Data privacy: PII not logged, encrypted at rest

  - **Performance Tests:**
    - Load test: 1,000 concurrent users, 100 analyses/second
    - Latency: p95 <60s for full flow
    - Extraction accuracy: 90%+ on test set

- **V.4. Deployment & DevOps (2 trang)**

  - **CI/CD Pipeline:**
    - GitHub Actions: On push to main, run tests (Jest FE, Pytest BE)
    - If tests pass: Deploy to staging, run smoke tests
    - If staging OK: Canary deploy (10% traffic first, monitor errors)
    - If no errors after 1h: 100% rollout

  - **Monitoring & Alerting:**
    - Metrics: Response time (p50/p95), error rate, success rate
    - Logs: Structured logs (timestamp, user_id, endpoint, latency, result)
    - Alerts: If error rate >1%, response time >2s, or critical errors ‚Üí PagerDuty

  - **Infrastructure:**
    - FE: Deployed to Vercel (auto CDN, auto-scaling)
    - BE: AWS (EC2 for MVP, Lambda for future scaling)
    - DB: AWS RDS PostgreSQL (automated backups, multi-AZ for HA)
    - Cache: ElastiCache Redis (auto-recovery)
    - Secrets: AWS Secrets Manager (GPT-4 API key, DB password, etc.)

---

#### **PH·∫¶N VI: OPERATIONS & GROWTH (4‚Äì6 trang)**

- **VI.1. Operations: Monitoring, Logging, Support (2 trang)**

  - **Observability:**
    - Metrics: Custom dashboard (Datadog/New Relic) with TTV, retention, error rate, extraction accuracy
    - Logs: All API requests + errors, searchable via ELK or Datadog
    - Traces: OpenTelemetry traces for slow requests (>5s), identify bottleneck

  - **Customer Support:**
    - Email support (24h response SLA)
    - FAQ chatbot (AI-powered using finAI's own engine üòä)
    - Community forum (Discord) for power users to share tips
    - Monthly webinar: "How to use finAI for sector analysis"

  - **Data Governance:**
    - Audit log: Every analysis logged with user, timestamp, document, results
    - Data retention: Analyses deleted after 90 days (user configurable)
    - Backup: Daily snapshots, 30-day retention, disaster recovery plan

- **VI.2. Growth Strategy: Viral Loops + Monetization (2 trang)**

  - **Viral Loop:**
    - **Sharing:** User generates snapshot ‚Üí includes "Powered by finAI" footer ‚Üí recipient clicks ‚Üí new user
    - **Metric:** Invite rate (% of snapshots shared), acceptance rate (% of invites ‚Üí signup)
    - **Target K-factor:** 0.5 (each user brings 0.5 new user)

  - **Retention Loops:**
    - **Habit loop:** User sets portfolio watchlist ‚Üí receives daily/weekly alerts ‚Üí returns to finAI
    - **Community:** Top users get badges, leaderboard, exclusive features ‚Üí network effects

  - **Monetization Triggers:**
    - **Free tier limit:** 5 analyses/month ‚Üí pushes users toward Pro
    - **Portfolio monitoring:** Free users can watch 1 ticker, Pro users unlimited
    - **Enterprise trigger:** Team admins need compliance dashboard, SSO ‚Üí outreach from sales team

  - **Unit Economics (refined):**
    - CAC (Customer Acquisition Cost): 
      - Organic (community + content): $0‚Äì200/user
      - Paid SEM (future): $300‚Äì500/user
      - Enterprise (direct sales): $2K‚Äì5K/user acquisition
    - LTV (Lifetime Value): 
      - Free user: $50 (converts to Pro at 5% rate after 3 months)
      - Pro user: $1,560/year @ $130 ARPU √ó 2.5 year avg lifetime
      - Enterprise: $50K‚Äì100K ACV √ó 3 year contract
    - **LTV:CAC ratio:** 9.6:1 (pro users) ‚Üí highly profitable

- **VI.3. Risk & Contingency Plan (2 trang)**

  - **Risk 1: Regulatory ‚Äì SEC cracks down**
    - Mitigation: Legal opinion day 1, clear positioning, no investment advice, partnership with licensed RIA
    - Contingency: Pivot to "portfolio monitoring tool" (less regulated) if needed

  - **Risk 2: Technical ‚Äì AI hallucination destroys trust**
    - Mitigation: Validation layer, confidence scores, human-in-loop, show sources
    - Contingency: Disable automated extraction, require manual verification for every output

  - **Risk 3: Competitive ‚Äì Bloomberg/Microsoft launches finAI clone**
    - Mitigation: Speed to moat (Y1‚Äì2), build community, vertical depth
    - Contingency: Become embedded in workflow (portfolio monitoring, broker integration) so hard to replace

  - **Risk 4: Technical ‚Äì Can't scale to 10K concurrent users**
    - Mitigation: Build on proven stack, load test early, horizontal scaling
    - Contingency: Use serverless (Lambda) for bursty traffic

  - **Risk 5: Market ‚Äì Analysts don't adopt**
    - Mitigation: Extensive customer discovery validates demand first
    - Contingency: Pivot to adjacent use case (corporate dev teams, retail investors)

---

#### **PH·∫¶N VII: PRODUCT ROADMAP (2‚Äì3 trang)**

**12-Month Roadmap:**

| Quarter | Focus | Deliverables | Success Metric |
|---------|-------|--------------|-----------------|
| **Q1 (Month 1‚Äì3)** | MVP Foundation | Auth, DB, API scaffolding, document parser POC | Legal opinion clear, tech feasibility confirmed |
| **Q2 (Month 4‚Äì6)** | Core Features | Metric extraction (GPT-4), risk flagging, 1-page snapshot | Beta with 50 users, 70% complete first analysis |
| **Q3 (Month 7‚Äì9)** | Polish + Scale | UI/UX refinement, performance optimization, security audit | 500 users, $5K MRR, D7 retention >40% |
| **Q4 (Month 10‚Äì12)** | Growth + Adjacent | Portfolio monitoring v1, broker integration (future), fundraise | 1K users, $10K MRR, <10% churn, NPS ‚â•40, **PMF achieved** |

**18-Month Roadmap (Post-MVP):**

| Period | Vision | Bets | Revenue Target |
|--------|--------|------|-----------------|
| **Year 2 (Q1‚ÄìQ2)** | Enterprise Motion | Multi-seat licenses, SSO, compliance dashboard, first 3 enterprise deals | $500K ARR from enterprise |
| **Year 2 (Q3‚ÄìQ4)** | Platform Expansion | API + marketplace for third-party agents, premium data feeds | 5K users, $50K MRR |
| **Year 3 (Q1‚ÄìQ4)** | Category Leadership | Full browser (Chromium fork), portfolio intelligence features, 50K users | $200K+ MRR, Series A ready |

---

#### **PH·∫¶N VIII: GO-NO-GO GATES & SUCCESS CRITERIA (2 trang)**

| Gate | Timeline | CEO Question | PM Question | Criteria | Decision |
|------|----------|--------------|-------------|----------|----------|
| **Gate 1: Problem-Solution Fit** | Month 3 | "Is this 10-year opportunity?" | "Pain ‚â•8/10 for ‚â•80%?" | 20 interviews, 70%+ WTP $100+/mo | ‚úÖ GO ‚Üí MVP |
| **Gate 2: Technical Feasibility** | Month 6 | "Can we build moat?" | "Tech feasible? Accuracy ‚â•85%?" | GPT-4 extraction works, browser extension POC, legal clear | ‚úÖ GO ‚Üí MVP build |
| **Gate 3: MVP Validation** | Month 12 | "Is this defensible?" | "500 beta users? <10% churn?" | 500+ users, D7 >40%, NPS ‚â•35, unit economics positive | ‚úÖ GO ‚Üí Public launch + Seed |
| **Gate 4: Product-Market Fit** | Month 18 | "Path to $100M ARR?" | "1K users? $10K MRR?" | 1K users, $10K MRR, LTV:CAC >3:1, clear north star metric | ‚úÖ GO ‚Üí Series A |

---

### 4. Y√™u c·∫ßu Vi·∫øt & Format

- **ƒê·ªô d√†i:** ~40 trang A4 (font 11‚Äì12, line spacing 1.2) = t∆∞∆°ng ƒë∆∞∆°ng 12,000‚Äì15,000 t·ª´
- **C·∫•u tr√∫c:** M·ª•c l·ª•c r√µ r√†ng (H1/H2/H3), heading descriptive, n·ªôi dung li√™n t·ª•c (kh√¥ng ph√¢n t√°ch nhi·ªÅu file)
- **Gi·ªçng vi·∫øt:** Chuy√™n nghi·ªáp, th·ª±c d·ª•ng, actionable, tr√°nh l√Ω thuy·∫øt su√¥ng
- **V√≠ d·ª•:** C·ª• th·ªÉ cho finAI (kh√¥ng generic)
- **Code:** Pseudocode/SQL snippet khi c·∫ßn (kh√¥ng c·∫ßn full code, ch·ªâ c·∫ßn minh ho·∫° logic)
- **Diagram:** M√¥ t·∫£ b·∫±ng ASCII art ho·∫∑c text flow n·∫øu kh√¥ng th·ªÉ v·∫Ω

---

### 5. Output Cu·ªëi C√πng

**1 t√†i li·ªáu d√†i, ho√†n ch·ªânh 40 trang v·ªõi:**
- ‚úÖ T·∫•t c·∫£ 8 PH·∫¶N tri·ªÉn khai ƒë·∫ßy ƒë·ªß n·ªôi dung (kh√¥ng s∆° s√†i)
- ‚úÖ M·ª•c l·ª•c v√† ch·ªâ m·ª•c (n·∫øu c·∫ßn)
- ‚úÖ M·ªëi li√™n h·ªá gi·ªØa c√°c ph·∫ßn (v√≠ d·ª•: c√°ch Problem Statement ‚Üí PRD ‚Üí Architecture ‚Üí Implementation)
- ‚úÖ C·∫£nh b√°o r·ªßi ro + c√°ch gi·∫£m thi·ªÉu
- ‚úÖ Roadmap 12‚Äì18 th√°ng c·ª• th·ªÉ
- ‚úÖ Success criteria ƒë·ªãnh l∆∞·ª£ng cho m·ªói milestone
- ‚úÖ Team structure + roles (ai l√†m g√¨)
- ‚úÖ Timeline th·ª±c t·∫ø + resource allocation

---

Anh/ch·ªã b·∫Øt ƒë·∫ßu vi·∫øt ngay. T√†i li·ªáu n√†y s·∫Ω l√† **"Kinh th√°nh"** cho team finAI implement t·ª´ ng√†y 1 ‚Üí go-live.
